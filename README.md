# Blender Texture Exporter

一个功能强大的Blender插件，用于导出选中和可见对象的纹理文件，支持UI界面、导出历史记录和网络安装。

## 功能特性

- 🎯 **智能导出**: 自动导出选中和可见对象的所有纹理
- 🖥️ **友好界面**: 直观的UI面板，操作简单
- 📁 **目录管理**: 记住最近使用的导出目录
- 📜 **历史记录**: 保存导出历史，快速重用之前的目录
- ⚡ **快速导出**: 一键导出到上次使用的目录
- 🌐 **网络安装**: 支持从网络直接安装和更新
- 📊 **实时统计**: 显示可导出纹理数量和对象信息

## 支持的对象类型

- 网格 (Mesh)
- 曲线 (Curve) 
- 表面 (Surface)
- 文本 (Font)
- 元球 (Meta)

## 安装方法

### 方法一：一键安装（推荐）

1. 打开Blender
2. 切换到 **Scripting** 工作区
3. 复制 `quick_install.py` 中的代码到脚本编辑器
4. 点击 **运行** 按钮
5. 等待安装完成

### 方法二：手动安装

1. 下载插件文件
2. 打开Blender偏好设置 (Edit > Preferences)
3. 选择 **Add-ons** 标签
4. 点击 **Install...** 按钮
5. 选择下载的插件文件
6. 启用 **Texture Exporter** 插件

### 方法三：开发者安装

```bash
# 克隆仓库
git clone https://github.com/frankdzh/blender_export_to_unity.git

# 复制到Blender插件目录
cp -r blender_export_to_unity/texture_exporter ~/.config/blender/3.6/scripts/addons/
```

## 使用方法

### 基本使用

1. 在3D视图中选择包含纹理的对象
2. 在侧边栏找到 **Texture Export** 面板
3. 点击 **选择目录并导出** 按钮
4. 选择导出目录
5. 等待导出完成

### 快速导出

如果之前已经导出过，可以使用 **快速导出到上次目录** 按钮，无需重新选择目录。

### 使用历史记录

在 **导出历史** 部分，可以看到之前使用过的导出目录，点击 **使用** 按钮即可快速导出到该目录。

## 界面说明

### 主面板
- **选择目录并导出**: 打开文件选择器，选择导出目录并执行导出
- **快速导出到上次目录**: 直接导出到上次使用的目录
- **当前导出目录**: 显示当前设置的导出目录

### 导出历史
- 显示最近使用的导出目录列表
- 点击 **使用** 按钮快速导出到该目录
- 点击 **X** 按钮删除历史记录

### 信息面板
- **选中对象**: 当前选中的对象数量
- **可见对象**: 当前可见的对象数量  
- **可导出纹理**: 预计可导出的纹理数量

## 配置选项

在Blender偏好设置的插件部分可以配置：

- **Export Directory**: 默认导出目录
- **Max History Items**: 最大历史记录数量（1-50）
- **Export History**: 查看和管理导出历史

## 技术细节

### 导出逻辑

1. 获取所有选中和可见的对象
2. 遍历对象的材质槽
3. 检查材质是否使用节点系统
4. 查找图像纹理节点 (TEX_IMAGE)
5. 收集所有有效的图像数据
6. 以PNG格式导出到指定目录

### 文件结构

```
texture_exporter/
├── __init__.py          # 插件入口文件
├── operators.py         # 操作符定义
├── panels.py           # UI面板定义
└── preferences.py      # 偏好设置
```

## 故障排除

### 常见问题

**Q: 插件安装后找不到面板？**
A: 确保插件已启用，面板位于3D视图的侧边栏 > Texture Export

**Q: 导出的纹理数量为0？**
A: 检查对象是否有材质，材质是否使用节点系统，是否包含图像纹理节点

**Q: 网络安装失败？**
A: 检查网络连接，或使用手动安装方法

**Q: 导出失败？**
A: 确保导出目录有写入权限，图像数据有效

### 调试信息

插件会在控制台输出详细的调试信息，包括：
- 导出过程状态
- 成功/失败的文件数量
- 错误详情

## 开发说明

### 环境要求

- Blender 3.0+
- Python 3.9+

### 开发模式

1. 克隆仓库到Blender插件目录
2. 在Blender中启用开发者模式
3. 修改代码后重新加载插件

### 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 发起Pull Request

## 更新日志

### v1.0.0
- 初始版本发布
- 基本导出功能
- UI界面
- 历史记录功能
- 网络安装支持

## 许可证

本项目采用 GPL-3.0 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 支持

- 🐛 [报告Bug](https://github.com/frankdzh/blender_export_to_unity/issues)
- 💡 [功能建议](https://github.com/frankdzh/blender_export_to_unity/issues)
- 📖 [文档](https://github.com/frankdzh/blender_export_to_unity/wiki)

## 致谢

感谢Blender社区的支持和贡献！

---

*"工欲善其事，必先利其器" - 《论语·卫灵公》*